<!DOCTYPE html>
<html>

<head>
    <title>Formulario</title>
</head>

<body>
    <h1>Formulario</h1>

    <form>
        <label for="asesor">Asesor:</label>
        <input type="text" id="asesor"><br>

        <label for="lead">Lead:</label>
        <input type="text" id="lead"><br>

        <label for="fechaHora">Fecha y hora:</label>
        <input type="text" id="fechaHora" disabled><br>

        <label for="campana">Campaña/DID:</label>
        <input type="text" id="campana"><br>
        
        <label for="comentarios">Comentarios:</label>
        <textarea id="comentarios"></textarea><br>

        <button type="button" onclick="copiarFormulario()">Agregar</button>
    </form>

    <div id="copias"></div>
    <button type="button" onclick="copiarTodasCopias()">Copiar todo</button>

    <script>
        var contadorCopias = 0;
        var copias = [];

        function copiarFormulario() {
            var fechaHora = new Date().toLocaleString();
            var asesor = document.getElementById("asesor").value;
            var campana = document.getElementById("campana").value;
            var lead = document.getElementById("lead").value;
            var comentarios = document.getElementById("comentarios").value;
            var contenido = asesor + ","+ lead +","+ fechaHora + "," + campana +","+ comentarios ;
            document.getElementById("fechaHora").value = fechaHora;

            // Agregar copia al arreglo
            contadorCopias++;
            copias.push(contenido);

            // Mostrar copias en la sección de copias
            var copiasHtml = "";
            for (var i = 0; i < copias.length; i++) {
                copiasHtml += "<div>Copia " + (i + 1) + ":<br>" + copias[i] + "</div>";
            }
            document.getElementById("copias").innerHTML = copiasHtml;

            // Copiar formulario individual y todas las copias creadas
            var contenidoTotal = contenido + copias.join("\n");
            navigator.clipboard.writeText(contenidoTotal);
        }
        function copiarTodasCopias() {
            var contenido = copias.join("\n");
            navigator.clipboard.writeText(contenido);
            alert("Todas las copias han sido copiadas correctamente.");
        }
    </script>
</body>

</html>
